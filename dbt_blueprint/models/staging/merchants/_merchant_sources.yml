version: 2

sources:
  - name: merchants
    tags: ["merchants"]
    catalog: ingestion
    schema: dbt_blueprint_dummy_ingestion
    tables:
      - name: merchants_dk_no
        description: "Table containing merchant data"
        freshness:
          warn_after: {count: 24, period: hour}
          error_after: {count: 48, period: hour}
        columns:
          - name: merchantId
            data_type: string
            datatests:
              - not_null
              - unique
          - name: orgNo
            data_type: int
          - name: companyName
            data_type: string
          - name: countryCode
            data_type: string
          - name: statusType
            data_type: string
          - name: createdTime
            data_type: timestamp
          - name: updatedTime
            data_type: timestamp
          - name: recordedTime
            data_type: timestamp

  - name: industry_codes
    tags: ["industry_codes"]
    catalog: ingestion
    schema: dbt_blueprint_dummy_ingestion
    tables:
      - name: industry_codes
        description: "Table containing industry codes data"
        freshness:
          warn_after: {count: 24, period: hour}
          error_after: {count: 48, period: hour}
        columns:
          - name: orgNo
            data_type: int
          - name: code
            data_type: int
          - name: countryCode
            data_type: string
          - name: industryName
            data_type: string